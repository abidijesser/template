import{u as h,r as g,j as r,w as d}from"./index-CQXiZoZy.js";const f=()=>{const s=h();return g.useEffect(()=>{const c=()=>{const e={};console.log("Full URL:",window.location.href);let o="";window.location.hash.includes("?")&&(o=window.location.hash.split("?")[1]||"",console.log("Hash fragment after ?:",o));const a=new URLSearchParams(window.location.search);if(console.log("Search params:",Object.fromEntries(a)),a.has("token"))return e.token=a.get("token"),console.log("Token from search params:",e.token),e;if(!o){const t=window.location.hash.split("/");console.log("Hash parts:",t);const n=t[t.length-1];n.includes("=")&&(o=n,console.log("Last part of hash with =:",o))}if(!o)return console.log("No hash found"),e;const l=o.split("&");console.log("Hash pairs:",l);for(let t=0;t<l.length;t++){const n=l[t].split("=");n.length===2&&(e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]||""))}return console.log("Extracted params:",e),e},i=()=>{const e=c();console.log("Hash params:",e);const o=e.token||localStorage.getItem("clientToken")||localStorage.getItem("token");console.log("Token found:",!!o),o?(console.log("Storing token and redirecting to dashboard"),localStorage.setItem("token",o),localStorage.removeItem("clientToken"),setTimeout(()=>{console.log("Navigating to dashboard"),s("/dashboard")},500)):(console.log("No token found, redirecting to login"),s("/login"))};console.log("Current URL:",window.location.href),i()},[s]),r.jsxs("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:[r.jsx(d,{color:"primary"}),r.jsx("p",{className:"ms-2",children:"Redirecting..."})]})};export{f as default};
