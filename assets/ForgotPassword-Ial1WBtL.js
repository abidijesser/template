import{r,j as e,C as b,a as g,b as w,c as E,d as S,e as v,A as i,f as N,i as R,B as k}from"./index-CQXiZoZy.js";import{C as A}from"./CCardGroup-Cc5vEPUM.js";const L=()=>{const[o,j]=r.useState(""),[F,f]=r.useState(""),[m,s]=r.useState(""),[u,n]=r.useState(""),[h,c]=r.useState(""),[x,l]=r.useState(""),C=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),y=async t=>{var d,p;if(t.preventDefault(),!o.trim()){c("Email is required."),s(""),n("");return}if(!C(o)){c("Please enter a valid email address."),s(""),n("");return}c("");try{l("Sending...");const a=await k.post("http://localhost:3001/api/auth/forgot-password",{email:o});a.data.success?a.data.userExists===!1?(l(""),n(""),s("No account is associated with this email.")):(l(""),s(""),n("The reset link has been sent to your email address. Please check your inbox and follow the instructions in the email.")):s(a.data.error||"An error occurred")}catch(a){s(((p=(d=a.response)==null?void 0:d.data)==null?void 0:p.error)||"An error occurred"),f("")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(b,{children:e.jsx(g,{className:"justify-content-center",children:e.jsx(w,{md:6,children:e.jsx(A,{children:e.jsx(E,{className:"p-4",children:e.jsx(S,{children:e.jsxs(v,{onSubmit:y,children:[e.jsx("h1",{className:"mb-4",children:"Forgot Password"}),h&&e.jsx(i,{color:"warning",children:h}),m&&e.jsx(i,{color:"danger",children:m}),u&&e.jsx(i,{color:"success",children:u}),x&&e.jsx(i,{color:"info",children:x}),e.jsx("p",{className:"text-body-secondary",children:"Enter your email to reset your password"}),e.jsx("div",{className:"mb-3",children:e.jsx(N,{type:"text",placeholder:"Email",value:o,onChange:t=>j(t.target.value)})}),e.jsx(R,{color:"primary",type:"submit",className:"btn w-100 mt-3",children:"Send Reset Link"})]})})})})})})})})};export{L as default};
